<header>
    <div class="row large-12 small-12 medium-12 valign-middle top-bar">
        <div class="small-12 medium-12 large-12 columns text-center">
            <h1 class="title">{| ctrl.task.quest.title |}</h1>
        </div>
    </div>
</header>
<div class="row" data-ng-init="ctrl.getTask()">
    <section class="large-12 small-12 columns card end"
             data-ng-if="!ctrl.task.finish && ctrl.task.point_id == 0">
        <p>{| ctrl.task.quest.description |}</p>
    </section>
    <section class="large-12 small-12 columns card end">
        <h2 class="text-headline">{| ctrl.task.point.title |}</h2>
        <p data-ng-bind-html="ctrl.task.point.description"></p>
    </section>
    <!--section class="large-12 small-12 columns card end">
        <p>Было передано lat: {| ctrl.task.coords.lat |}, lng: {| ctrl.task.coords.lng |}</p>
    </section-->
    <div class="text-center"
         data-ng-if="!ctrl.task.finish && ctrl.task.point_id == 0">
        <a class="raised-button ink large button"
           href="{| ctrl.task.links.checkpoint |}">Я на месте</a>
    </div>
    <div class="text-center">
        <div>{| ctrl.task.point.prompt.title |}</div>
        <h3>
            <timer countdown="ctrl.task.countdownVal"
                   interval="1000"
                   finish-callback="ctrl.getTask()"
                   autostart="false"
                   data-ng-if="ctrl.task.countdownVal">{| mminutes |}:{| sseconds |}
            </timer>
        </h3>
    </div>
    <div class="text-center"
         data-ng-if="ctrl.task.point.prompt.description">
        <p data-ng-bind-html="ctrl.task.point.prompt.description"></p>
    </div>
    <div class="large-12 small-12 text-center columns card end alert"
         data-ng-if="ctrl.error.msg">
        <p></p>
        <p>{| ctrl.error.msg |}</p>
    </div>
    <div class="text-center"
         data-ng-if="!ctrl.task.finish && ctrl.task.point_id != 0">
        <a class="raised-button ink large button"
           data-ng-class="{'disabled': ctrl.isLoaded}"
           data-ng-click="ctrl.checkpoint()">
            <div id="escapingBallG"
                 data-ng-if="ctrl.isLoaded">
                <div id="escapingBall_1" class="escapingBallG"></div>
            </div>
            <div data-ng-if="!ctrl.isLoaded">
                Проверить место
            </div>
        </a><!-- {| ctrl.checkoutAttempt |}-->
    </div>
    <div class="text-center"
         data-ng-if="ctrl.task.finish">
        <a class="raised-button ink large button"
           href="{| ctrl.task.links.finish |}">Мои результаты тут</a>
    </div>
</div>
