!function(){angular.module("timer-js",[])}(),function(){var t=function(){function t(t,n,i,e){this.$interval=t,this.$scope=i,this.years=0,this.months=0,this.days=0,this.hours="00",this.minutes="00",this.seconds="00",this.interval=0,e(i,function(t){n.append(t)})}return t.prototype.finish=function(){},t.prototype.$onInit=function(){var t=this;this.$scope.$watch(function(){return t.time.interval},function(n){t.interval!=n&&(t.interval=n,t.start())})},t.prototype.start=function(){var t=this;this.startTime=Date.now(),this.endTime=this.startTime+1e3*this.interval;var n,i=Date.now();this.calc(),this.promiseInterval=this.$interval(function(){n=Date.now();var e=Math.floor((n-i)/1e3);e>2?t.interval-=e:t.interval--,t.interval<0&&(t.interval=0),i=n,t.endTime=t.startTime+1e3*t.interval,t.calc(),0==t.interval?(t.finish(),t.$interval.cancel(t.promiseInterval)):t.time.interval=t.interval},1e3)},t.prototype.$onDestroy=function(){this.$interval.cancel(this.promiseInterval)},t.prototype.numberFixedLength=function(t,n){void 0===n&&(n=0);var i=String(t),e=n-i.length;return e>0?"0".repeat(e)+i:i},t.prototype.calc=function(){var t=moment(this.endTime).diff(moment(this.startTime)),n=moment.duration(t);this.years=Math.floor(n.years()),this.months=Math.floor(n.months()),this.days=Math.floor(n.days()),this.hours=this.numberFixedLength(Math.floor(n.hours()),2),this.minutes=this.numberFixedLength(Math.floor(n.minutes()),2),this.seconds=this.numberFixedLength(Math.floor(n.seconds()),2)},t}();t.$inject=["$interval","$element","$scope","$transclude"];var n=function(){function n(){this.controller=t,this.transclude=!0,this.bindings={time:"<",finish:"&"}}return n}();angular.module("timer-js").component("timer",new n)}();